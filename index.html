<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Gallery 2 Album - Tự động</title>
<style>
body { font-family: Arial, sans-serif; background:#f7f7f7; padding:20px; }
h2 { text-align:center; margin:40px 0 20px; }
.gallery { display:flex; flex-wrap:wrap; gap:15px; justify-content:center; }
.gallery img { width:220px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.2); transition:0.2s; cursor:pointer; }
.gallery img:hover { transform: scale(1.05); }
#lightbox { position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display:none; justify-content:center; align-items:center; z-index:9999; }
#lightbox img { max-width:90%; max-height:90%; border-radius:8px; }
</style>
</head>
<body>

<h2>Album 1: Mẫu Hoa</h2>
<div class="gallery" id="album1"></div>

<h2>Album 2: Lan</h2>
<div class="gallery" id="album2"></div>

<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightbox-img" src="">
</div>

<script>
// 2 album public Google Photos share link
const albums = [
  { id: 'album1', url: 'https://photos.app.goo.gl/nvP9g5VazHWoPe5M8' },
  { id: 'album2', url: 'https://photos.app.goo.gl/kNYYUzFgjsUTBke8A' }
];

// Hàm load album
async function loadAlbum(albumId, shareUrl) {
  try {
    // Google Photos public share có JSON trick
    const res = await fetch(shareUrl);
    const text = await res.text();

    // Lấy tất cả link ảnh JPG/PNG bằng regex
    const imgUrls = [...text.matchAll(/"(https:\/\/lh3\.googleusercontent\.com\/[a-zA-Z0-9_-]+)"/g)]
                    .map(m => m[1]);

    const container = document.getElementById(albumId);
    imgUrls.forEach(url => {
      const img = document.createElement('img');
      img.src = url;
      img.onclick = () => {
        document.getElementById('lightbox-img').src = url;
        document.getElementById('lightbox').style.display = 'flex';
      };
      container.appendChild(img);
    });
  } catch(err) {
    console.error('Không load được album:', albumId, err);
  }
}

// Load tất cả album
albums.forEach(a => loadAlbum(a.id, a.url));
</script>

</body>
</html>
