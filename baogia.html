<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>BÁO GIÁ HOA LAN HỒ ĐIỆP DŨNG TRANG - ĐÀ LẠT</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        padding: 20px;
        color: #222;
    }

    h1 {
        text-align: center;
        margin-bottom: 5px;
    }

    h3 {
        text-align: center;
        margin-top: 0;
        color: #444;
        font-weight: normal;
    }

    .container {
        max-width: 900px;
        background: #fff;
        margin: auto;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    label {
        font-weight: bold;
    }

    input, select {
        width: 100%;
        padding: 8px;
        margin: 6px 0 15px 0;
        border-radius: 6px;
        border: 1px solid #bbb;
    }

    #preview-img {
        max-width: 100%;
        display: block;
        margin: 20px auto;
        border-radius: 10px;
    }

    #download-btn {
        display: none;
        background: #0a7df2;
        color: #fff;
        padding: 12px 20px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        margin-top: 15px;
    }

    button {
        background: #28a745;
        color: white;
        padding: 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        width: 100%;
        font-size: 16px;
    }
</style>
</head>
<body>

<h1>BÁO GIÁ</h1>
<h3>HOA LAN HỒ ĐIỆP DŨNG TRANG - ĐÀ LẠT<br>
Điện thoại: 0918.60.42.60 - Zalo: 0918.60.42.60<br>
Địa chỉ: 08 Lý Thường Kiệt, Đức Trọng, Lâm Đồng
</h3>

<div class="container">

    <label>Chọn hình sản phẩm:</label>
    <input type="file" id="imageInput" accept="image/*">

    <label>Tên sản phẩm:</label>
    <input type="text" id="productName">

    <label>Kích thước:</label>
    <input type="text" id="size">

    <label>Giá (mặc định 11x K):</label>
    <input type="text" id="price" value="11x K">

    <label>Số lượng:</label>
    <input type="number" id="quantity" value="1">

    <label>Đơn vị:</label>
    <select id="unit">
        <option value="cây">cây</option>
        <option value="cành">cành</option>
    </select>

    <label>Số điện thoại:</label>
    <input type="text" id="phone" value="0918.604260">

    <button onclick="createImage()">Tạo ảnh báo giá</button>

    <img id="preview-img">
    <a id="download-btn" download="bao_gia.jpg">Tải ảnh về</a>

</div>

<script>
function createImage() {
    const file = document.getElementById("imageInput").files[0];
    if (!file) return alert("Hãy chọn ảnh sản phẩm!");

    const productName = document.getElementById("productName").value;
    const size = document.getElementById("size").value;
    const price = document.getElementById("price").value;
    const quantity = document.getElementById("quantity").value;
    const unit = document.getElementById("unit").value;
    const phone = document.getElementById("phone").value;

    const today = new Date().toLocaleDateString("vi-VN");

    const reader = new FileReader();
    reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {

            const canvas = document.createElement("canvas");
            const ctx = canvas.getContext("2d");

            canvas.width = img.width;
            canvas.height = img.height;

            ctx.drawImage(img, 0, 0);

            ctx.font = "48px Arial";
            ctx.fillStyle = "rgba(255,255,255,0.7)";
            ctx.textAlign = "center";

            ctx.fillText("HOA LAN HỒ ĐIỆP DŨNG TRANG - ĐÀ LẠT", canvas.width / 2, 60);

            ctx.fillStyle = "#fff";
            ctx.font = "42px Arial";

            ctx.fillText("Tên: " + productName, canvas.width / 2, canvas.height - 260);
            ctx.fillText("Kích thước: " + size, canvas.width / 2, canvas.height - 210);
            ctx.fillText("Giá: " + price, canvas.width / 2, canvas.height - 160);
            ctx.fillText("SL: " + quantity + " " + unit, canvas.width / 2, canvas.height - 110);
            ctx.fillText("Liên hệ: " + phone, canvas.width / 2, canvas.height - 60);
            ctx.fillText("Ngày báo giá: " + today, canvas.width / 2, canvas.height - 10);

            const imageURL = canvas.toDataURL("image/jpeg");

            document.getElementById("preview-img").src = imageURL;

            const downloadBtn = document.getElementById("download-btn");
            downloadBtn.href = imageURL;
            downloadBtn.style.display = "block";
        }
        img.src = e.target.result;
    }
    reader.readAsDataURL(file);
}
</script>

</body>
</html>
